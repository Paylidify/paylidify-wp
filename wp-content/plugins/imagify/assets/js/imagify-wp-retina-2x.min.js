window.imagify=window.imagify||{},jQuery.extend(window.imagify,{retina2x:{hookAjax:function(){jQuery(document).ajaxSend(this.addData).ajaxSuccess(this.updateInfo)},addData:function(a,b,c){var d,e,f,g,h;c.data&&(d="string"==typeof c.data,e=c.data instanceof FormData,f=window.imagifyRetina2x,d?(g=c.data.match(/(?:^|&)action=([^&]+)/),g=!!g&&g[1],h=c.data.match(/(?:^|&)attachmentId=([^&]+)/),h=h?parseInt(h[1],10):0):e?(g=c.data.get("action"),h=c.data.get("attachmentId")):(g=c.data.action,h=c.data.id),g&&f[g]&&(jQuery(".imagify_optimized_file").length||(h=0),d?(c.data+="&imagify_nonce="+f[g],h>0&&(c.data+="&imagify_info=1")):e?(c.data.append("imagify_nonce",f[g]),h>0&&c.data.append("imagify_info",1)):(c.data=jQuery.extend(c.data,{imagify_nonce:f[g]}),h>0&&(c.data=jQuery.extend(c.data,{imagify_info:1})))))},updateInfo:function(a,b,c,d){if("string"==typeof c.data){try{d=jQuery.parseJSON(d)}catch(a){return}"imagify"===d.source&&"wr2x"===d.context&&d.imagify_info&&jQuery.each(d.imagify_info,function(a,b){var c=jQuery("#post-"+a).children(".imagify_optimized_file");c.length&&c.html(b)})}}}}),window.imagify.retina2x.hookAjax();